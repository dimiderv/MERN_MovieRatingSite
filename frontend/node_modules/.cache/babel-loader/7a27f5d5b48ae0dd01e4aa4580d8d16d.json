{"ast":null,"code":"var _jsxFileName = \"/home/dejvi/Documents/Docker/MovieApp/frontend/src/Favorites.js\",\n  _s = $RefreshSig$();\nimport Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport { Row } from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Image from \"react-bootstrap/Image\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst genres = require('./data/genres.json');\nfunction MyVerticallyCenteredModal(props) {\n  const {\n    title,\n    year,\n    thumbnail,\n    cast,\n    genres,\n    extract\n  } = props.movie;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    ...props,\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        style: {\n          textAlign: \"center\",\n          marginLeft: \"auto%\",\n          marginRight: \"auto\"\n        },\n        id: \"contained-modal-title-vcenter\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      style: {\n        display: \"block\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: thumbnail,\n        style: {\n          display: \"block\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Genres: \", genres]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [year, \" \", extract]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: cast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: props.onHide,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n}\n_c = MyVerticallyCenteredModal;\nconst Favorites = _ref => {\n  _s();\n  let {\n    movie,\n    addGoalHandler\n  } = _ref;\n  //   const { title, year, thumbnail, cast, genres } = movie;\n  const [active, setActive] = useState(false);\n  const [loadedGoals, setLoadedGoals] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  console.log(isLoading, error);\n  useEffect(function () {\n    async function fetchData() {\n      setIsLoading(true);\n      try {\n        const response = await fetch('http://localhost/movies');\n        const resData = await response.json();\n        if (!response.ok) {\n          throw new Error(resData.message || 'Fetching the goals failed.');\n        }\n        console.log(resData.movies);\n        setLoadedGoals(resData.movies);\n      } catch (err) {\n        setError(err.message || 'Fetching goals failed - the server responsed with an error.');\n      }\n      setIsLoading(false);\n    }\n    fetchData();\n  }, []);\n  function handleModal() {\n    setActive(!active);\n  }\n  return active ? /*#__PURE__*/_jsxDEV(MyVerticallyCenteredModal, {\n    show: active,\n    onHide: handleModal\n    //   movie={movie}\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this) : !loadedGoals.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Nothing happened\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      width: \"18rem\",\n      margin: \"10px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n      variant: \"top\",\n      src: \"\",\n      alt: 'ds',\n      width: 259,\n      height: 380\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n        children: loadedGoals[0].year\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Title, {\n        children: loadedGoals[0].extract\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"lml-auto\",\n          variant: \"primary\",\n          type: \"submit\",\n          value: \"Send\",\n          onClick: () => addGoalHandler(\"title\"),\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"ml-auto\",\n          variant: \"primary\",\n          type: \"submit\",\n          value: \"Send\",\n          onClick: handleModal,\n          children: \"More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(Favorites, \"d+J0deeARWUkyjdjZqgJJw4dpSc=\");\n_c2 = Favorites;\nexport default Favorites;\nvar _c, _c2;\n$RefreshReg$(_c, \"MyVerticallyCenteredModal\");\n$RefreshReg$(_c2, \"Favorites\");","map":{"version":3,"names":["Button","Card","Row","useState","useEffect","Modal","Image","jsxDEV","_jsxDEV","genres","require","MyVerticallyCenteredModal","props","title","year","thumbnail","cast","extract","movie","size","centered","children","Header","closeButton","Title","style","textAlign","marginLeft","marginRight","id","fileName","_jsxFileName","lineNumber","columnNumber","Body","display","src","Footer","onClick","onHide","_c","Favorites","_ref","_s","addGoalHandler","active","setActive","loadedGoals","setLoadedGoals","isLoading","setIsLoading","error","setError","console","log","fetchData","response","fetch","resData","json","ok","Error","message","movies","err","handleModal","show","length","width","margin","Img","variant","alt","height","className","type","value","_c2","$RefreshReg$"],"sources":["/home/dejvi/Documents/Docker/MovieApp/frontend/src/Favorites.js"],"sourcesContent":["import Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport { Row } from \"react-bootstrap\";\nimport { useState,useEffect } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Image from \"react-bootstrap/Image\";\nconst genres = require('./data/genres.json')\n\nfunction MyVerticallyCenteredModal(props) {\n  const { title, year, thumbnail, cast, genres, extract } = props.movie;\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title\n          style={{\n            textAlign: \"center\",\n            marginLeft: \"auto%\",\n            marginRight: \"auto\",\n          }}\n          id=\"contained-modal-title-vcenter\"\n        >\n          {title}\n        </Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body\n        style={{ display: \"block\", marginLeft: \"auto\", marginRight: \"auto\" }}\n      >\n        <img\n          src={thumbnail}\n          style={{ display: \"block\", marginLeft: \"auto\", marginRight: \"auto\" }}\n        />\n        <h4>Genres: {genres}</h4>\n        <p>{year} {extract}</p>\n        <p>{cast}</p>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={props.onHide}>Close</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nconst Favorites = ({ movie, addGoalHandler }) => {\n//   const { title, year, thumbnail, cast, genres } = movie;\n  const [active, setActive] = useState(false);\n  const [loadedGoals, setLoadedGoals] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  console.log(isLoading,error)\n  useEffect(function () {\n    async function fetchData() {\n      setIsLoading(true);\n\n      try {\n        const response = await fetch('http://localhost/movies');\n\n        const resData = await response.json();\n\n        if (!response.ok) {\n          throw new Error(resData.message || 'Fetching the goals failed.');\n        }\n        console.log(resData.movies)\n        setLoadedGoals(resData.movies);\n      } catch (err) {\n        setError(\n          err.message ||\n            'Fetching goals failed - the server responsed with an error.'\n        );\n      }\n      setIsLoading(false);\n    }\n\n    fetchData();\n  }, []);\n\n\n  function handleModal() {\n    setActive(!active);\n  }\n\n  return active ? (\n    <MyVerticallyCenteredModal\n      show={active}\n      onHide={handleModal}\n    //   movie={movie}\n    />\n  ) :! loadedGoals.length?(\n    <div>\n        Nothing happened\n    </div>\n  ): (\n    <Card style={{ width: \"18rem\", margin: \"10px\" }}>\n      <Card.Img\n        variant=\"top\"\n        src={\"\"}\n        alt={'ds'}\n        width={259}\n        height={380}\n      />\n      <Card.Body>\n\n        <Card.Title>{loadedGoals[0].year}</Card.Title>\n        <Card.Title>{loadedGoals[0].extract}</Card.Title>\n      </Card.Body>\n      <Card.Footer>\n        <Row>\n          <Button\n            className=\"lml-auto\"\n            variant=\"primary\"\n            type=\"submit\"\n            value=\"Send\"\n            onClick={() => addGoalHandler(\"title\")}\n          >\n            Post\n          </Button>\n          <Button\n            className=\"ml-auto\"\n            variant=\"primary\"\n            type=\"submit\"\n            value=\"Send\"\n            onClick={handleModal}\n          >\n            More\n          </Button>\n        </Row>\n      </Card.Footer>\n    </Card>\n  );\n};\n\nexport default Favorites;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}